<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>ESP32 Umgebungsdaten</title>
    <link rel="stylesheet" href="index.css">   
</head>

<body>
    <!-- Dein Menü wird dynamisch hier eingefügt -->
    <div id="menu-placeholder"></div>

    <h1>ESP32 Umgebungsdaten</h1>

    <!-- Lade-Indikator -->
    <div id="loading-indicator">
        <div class="loader"></div>
        <p>Daten werden geladen...</p>
    </div>

    <div id="reset-message">Werte erfolgreich zurückgesetzt!</div>

    <div class="content-wrapper">
        <!-- ========== OBERE TABELLE ========== -->
        <div class="table-wide">
            <table>
                <thead>
                    <tr>
                        <th colspan="3">Umgebungswerte</th>
                    <tr>
                        <th colspan="3">Umgebungswerte</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <canvas id="temperatureGauge" width="200" height="200"></canvas>
                        </td>
                        <td>
                            <canvas id="mintemperatureGauge" width="200" height="200"></canvas>
                            </div>
                            </div>
                        </td>
                        <td>
                            <canvas id="maxtemperatureGauge" width="200" height="200"></canvas>
                            </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <canvas id="humidityGauge" width="200" height="200"></canvas>
                            </div>
                            </div>
                        </td>
                        <td>
                            <canvas id="pressureGauge" width="200" height="200"></canvas>
                            </div>
                        </td>
                        <td>
                            <canvas id="luxGauge" width="200" height="200"></canvas>
                            </div>
                        </td>
                        <td>
                            <canvas id="luxGauge" width="200" height="200"></canvas>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="table-row2">
            <table>
                <thead>
                    <tr>
                        <th colspan="4">Buttons</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <button onclick="resetMinMax()">Reset Min/Max</button>
                        </td>
                        <td>
                            <button onclick="toggleDisplay('on')">Display An</button>
                        </td>
                        <td>
                            <button onclick="toggleDisplay('off')">Display Aus</button>
                        </td>
                        <td>
                            <button onclick="getSensorData()">Aktualisieren</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ========== UNTERE REIHE: SOLAR PANEL + BATTERIEWERTE NEBENEINANDER ========== -->
        <div class="table-row">
            <!-- Solar Panel -->
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th colspan="2">Solar Panel</th>
                        </tr>
                        <tr>
                            <th>Parameter</th>
                            <th>Aktuell</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Spannung</td>
                            <td>
                                <span id="voltage">
                                    <div class="loader" style="display: none;"></div>
                                    <span>Laden...</span>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>Stromstärke</td>
                            <td>
                                <span id="current">
                                    <div class="loader" style="display: none;"></div>
                                    <span>Laden...</span>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>Leistung</td>
                            <td>
                                <span id="power">
                                    <div class="loader" style="display: none;"></div>
                                    <span>Laden...</span>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Batteriewerte -->
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th colspan="2">Batteriewerte</th>
                        </tr>
                        <tr>
                            <th>Parameter</th>
                            <th>Aktuell</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Batterie Spannung</td>
                            <td>
                                <span id="batteryVoltage">
                                    <div class="loader" style="display: none;"></div>
                                    <span>Laden...</span>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>Batterie Stromstärke</td>
                            <td>
                                <span id="batteryCurrent">
                                    <div class="loader" style="display: none;"></div>
                                    <span>Laden...</span>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>Batterie Leistung</td>
                            <td>
                                <span id="batteryPower">
                                    <div class="loader" style="display: none;"></div>
                                    <span>Laden...</span>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>Rest Laufzeit:</td>
                            <td>
                                <span id="batterytime">
                                    <div class="loader" style="display: none;"></div>
                                    <span>Laden...</span>
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>Batterie Ladezustand</td>
                            <td>
                                <div class="battery-container">
                                    <div id="battery-progress" class="battery-progress" style="width: 0%;">
                                        <div id="battery-percentage-text" class="battery-percentage-text">Laden...</div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div><!-- Ende .table-row -->
    </div><!-- Ende .content-wrapper -->

    <script src="index.js"></script>
</body>
</html>
